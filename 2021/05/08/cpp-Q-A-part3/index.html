<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="继续考古Cherno的c++入门视频http:&#x2F;&#x2F;bit.ly&#x2F;2kumpdb &amp;nbsp; 越来越忍不了了主要是废话太多 知识点不够体系化 &amp;nbsp; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;以下插播广告&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;体系化入门侯捷老师的课就是最棒的！课程目标：培养正规大气的编程习惯以良好的方式编写c++ class学习class之间的关系&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;广告结束&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; &amp;nbsp; 但是看这个">
<meta property="og:type" content="article">
<meta property="og:title" content="cpp Q&amp;A part3">
<meta property="og:url" content="http://example.com/2021/05/08/cpp-Q-A-part3/index.html">
<meta property="og:site_name" content="wake up emily">
<meta property="og:description" content="继续考古Cherno的c++入门视频http:&#x2F;&#x2F;bit.ly&#x2F;2kumpdb &amp;nbsp; 越来越忍不了了主要是废话太多 知识点不够体系化 &amp;nbsp; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;以下插播广告&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;体系化入门侯捷老师的课就是最棒的！课程目标：培养正规大气的编程习惯以良好的方式编写c++ class学习class之间的关系&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;广告结束&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; &amp;nbsp; 但是看这个">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-05-08T13:02:28.000Z">
<meta property="article:modified_time" content="2021-05-08T13:17:29.763Z">
<meta property="article:author" content="em">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>cpp Q&amp;A part3</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="wake up emily" type="application/atom+xml" />
    
<meta name="generator" content="Hexo 5.2.0"></head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/posts/">Writing</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/2021/05/07/cpp-Q-A-part2/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/05/08/cpp-Q-A-part3/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/05/08/cpp-Q-A-part3/&text=cpp Q&amp;A part3"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/05/08/cpp-Q-A-part3/&is_video=false&description=cpp Q&amp;A part3"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=cpp Q&amp;A part3&body=Check out this article: http://example.com/2021/05/08/cpp-Q-A-part3/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/05/08/cpp-Q-A-part3/&name=cpp Q&amp;A part3&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1"><span class="toc-number">1.</span> <span class="toc-text">为什么需要enum这样的类呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2"><span class="toc-number">2.</span> <span class="toc-text">enum是什么样的类呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3"><span class="toc-number">3.</span> <span class="toc-text">Q: 构造函数有返回值吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4"><span class="toc-number">4.</span> <span class="toc-text">Q: 构造函数可以重名吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5"><span class="toc-number">5.</span> <span class="toc-text">Q: 初始列和赋值函数的区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6"><span class="toc-number">6.</span> <span class="toc-text">Q: 析构函数是必须的吗？析构函数在何时调用呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8"><span class="toc-number">7.</span> <span class="toc-text">Q: 为什么需要虚函数机制呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9"><span class="toc-number">8.</span> <span class="toc-text">Q: 虚函数有哪几种？什么时候用哪一种呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10"><span class="toc-number">9.</span> <span class="toc-text">Q: public&#x2F;protected&#x2F;private分别能访问和控制什么？（from cpp primer）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11"><span class="toc-number">10.</span> <span class="toc-text">Q: string具体是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12"><span class="toc-number">11.</span> <span class="toc-text">Q: string s &#x3D; &quot;hello&quot; + &quot;world&quot; 是合规的表达式吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13"><span class="toc-number">12.</span> <span class="toc-text">Q: string s(&quot;string&quot;); s[2] &#x3D; &quot;i&quot;; 是合规的表达式吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14"><span class="toc-number">13.</span> <span class="toc-text">Q: const是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17"><span class="toc-number">14.</span> <span class="toc-text">Q: 读方法不写const有什么问题吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15"><span class="toc-number">15.</span> <span class="toc-text">Q: 引用const和指针const有什么不同吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18"><span class="toc-number">16.</span> <span class="toc-text">Q: mutable是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16"><span class="toc-number">17.</span> <span class="toc-text">Q: 什么时候会用到mutable呢？</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        cpp Q&amp;A part3
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">em</span>
      </span>
      
    <div class="postdate">
        <time datetime="2021-05-08T13:02:28.000Z" itemprop="datePublished">2021-05-08</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>继续考古Cherno的c++入门视频<br><a target="_blank" rel="noopener" href="http://bit.ly/2kumpdb">http://bit.ly/2kumpdb</a></p>
<p>&nbsp;</p>
<p>越来越忍不了了<br>主要是废话太多 知识点不够体系化</p>
<p>&nbsp;</p>
<p>========以下插播广告=========<br><strong>体系化入门</strong><br><strong>侯捷老师的课就是最棒的！</strong><br><strong>课程目标：</strong><br><strong>培养正规大气的编程习惯</strong><br><strong>以良好的方式编写c++ class</strong><br><strong>学习class之间的关系</strong><br>==========广告结束==========</p>
<p>&nbsp;</p>
<p>但是看这个教程的初衷<br>我想应该就是出于经验主义<br>看下实操界到底是什么情况<br>这一点其实还可以<br>尤其是涉及汇编语言的时候<br>他还是挺pull himself together的<br>再观察一下要不要弃坑吧</p>
<p>&nbsp;</p>
<p>其他时候槽点就比较多<br>比如讲构造函数的时候举例甚至不带初始列 就放了个初始化赋值<br>(在侯捷的课上这么写会被公开处刑！)<br>不过之后讲虚函数的时候写的又是初始列<br>不禁好奇他觉得这个教程的受众到底具有什么样的c++基础<br>讲一些知识点可以八分钟十分钟不知道哔哔了啥就讲了个语法 ┓( ´∀` )┏<br>比如 析构函数 继承 array const 访问控制…<br>protected甚至没有提到友元 偷摸大鸡不会伤心吗<br>讲string也是只讲了比较实用的部分吧<br>虽然这倒也无可厚非</p>
<p>&nbsp;</p>
<p><em>我看的是b站搬运</em><br><em><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1VJ411M7WR?p=10&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1VJ411M7WR?p=10&amp;spm_id_from=pageDriver</a></em><br><em>简介:Cherno是艺电(EA)澳大利亚的游戏引擎工程师，自学生时代起就开始在YouTube做游戏编程视频教学。此系列是C++教程，解释清楚，没有废话，剪辑流畅，备课充分，还能学到很多Visual Studio的骚操作，对我当时学习C++帮助很大，强烈推荐。</em><br><em>视频:<a target="_blank" rel="noopener" href="http://suo.im/62OLua">http://suo.im/62OLua</a></em></p>
<p>&nbsp;</p>
<p>以下是24p-35p Q&amp;A概要:</p>
<ul>
<li>类<ul>
<li>Enum<ul>
<li><a href="#1">Q: 为什么需要enum这样的类呢？</a></li>
<li><a href="#2">Q: enum是什么样的类呢？</a></li>
</ul>
</li>
<li>构造函数<ul>
<li><a href="#3">Q: 构造函数有返回值吗？</a></li>
<li><a href="#4">Q: 构造函数可以重名吗？</a></li>
<li><a href="#5">Q: 初始列和赋值函数的区别？</a></li>
</ul>
</li>
<li>析构函数<ul>
<li><a href="#6">Q: 析构函数是必须的吗？析构函数在何时调用呢？</a></li>
</ul>
</li>
</ul>
</li>
<li>继承<ul>
<li>虚函数<ul>
<li><a href="#8">Q: 为什么需要虚函数机制呢？</a></li>
<li><a href="#9">Q: 虚函数有哪几种？什么时候用哪一种呢？</a></li>
</ul>
</li>
<li>访问控制<ul>
<li><a href="#10">Q: public/protected/private分别能访问和控制什么？（from cpp primer）</a></li>
</ul>
</li>
</ul>
</li>
<li>变量<ul>
<li>string<ul>
<li><a href="#11">Q: string具体是什么？</a></li>
<li><a href="#12">Q: string s = “hello” + “world” 是合规的表达式吗？</a></li>
<li><a href="#13">Q: string s(“string”); s[2] = “i”; 是合规的表达式吗？</a></li>
</ul>
</li>
<li>const<ul>
<li><a href="#14">Q: const是什么？</a></li>
<li><a href="#17">Q: 读方法不写const有什么问题吗？</a></li>
<li><a href="#15">Q: 引用const和指针const有什么不同吗？</a></li>
</ul>
</li>
<li>mutable<ul>
<li><a href="#18">Q: mutable是什么？</a></li>
<li><a href="#16">Q: 什么时候会用到mutable呢？</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>&nbsp;<br>&nbsp;</p>
<hr>
<h2 id="1">为什么需要enum这样的类呢？</h2>

<p>A: 比如有一些状态码和变量名<br>&emsp;&emsp; &emsp;首先外面的世界很危险<br>&emsp;&emsp; &emsp;如果外部或方法内部有人改了状态值<br>&emsp;&emsp; &emsp;这很不好管理<br>&emsp;&emsp; &emsp;顺带我们也不想去记到底哪个变量名的状态码是几</p>
<hr>
<h2 id="2">enum是什么样的类呢？</h2>

<p>A: 接收同一数据类型的多个变量 假如第一个变量规定了起始值 之后的变量就会自增</p>
<hr>
<h2 id="3">Q: 构造函数有返回值吗？</h2>

<p>A: 无</p>
<hr>
<h2 id="4">Q: 构造函数可以重名吗？</h2>

<p>A: 可，称为构造函数重载</p>
<hr>
<h2 id="5">Q: 初始列和赋值函数的区别？</h2>

<p>A: 写法不同 执行时机不同 效率不同</p>
<hr>
<h2 id="6">Q: 析构函数是必须的吗？析构函数在何时调用呢？</h2>

<p>A: 首先析构函数是用来释放内存</p>
<p>&emsp;&emsp; &emsp;根据侯捷老师的课<br>&emsp;&emsp; &emsp;类可以分为带指针的类和不带指针的类</p>
<p>&emsp;&emsp; &emsp;带指针的类涉及到手动在堆上分配内存<br>&emsp;&emsp; &emsp;那这种情况下指针的内存回收必须是手动的<br>&emsp;&emsp; &emsp;手动调用delete来回收内存</p>
<p>&emsp;&emsp; &emsp;delete会自动调用析构函数释放内存<br>&emsp;&emsp; &emsp;delete干两件事 1. 调用析构函数 2. 调用free()</p>
<p>&emsp;&emsp; &emsp;不带指针的类内存在栈上<br>&emsp;&emsp; &emsp;一旦脱离其作用域<br>&emsp;&emsp; &emsp;类对象会自动销毁 整个类的内存会自动释放<br>&emsp;&emsp; &emsp;也就不需要写析构函数</p>
<hr>
<h2 id="8">Q: 为什么需要虚函数机制呢？</h2>

<p>A: 继承时有一个问题<br>&emsp;&emsp; &emsp;当函数重载的时候<br>&emsp;&emsp; &emsp;也就是当子类和父类有同名函数的时候<br>&emsp;&emsp; &emsp;我们希望的是子类能调用子类自己的重载函数<br>&emsp;&emsp; &emsp;当没有虚函数机制的时候<br>&emsp;&emsp; &emsp;其调用的永远是父类的重载函数</p>
<p>&emsp;&emsp; &emsp;python就完全相反 默认调用子类的同名函数 因为是动态类型语言 子类调用就使用子类的方法</p>
<hr>
<h2 id="9">Q: 虚函数有哪几种？什么时候用哪一种呢？</h2>

<ul>
<li><strong>non virtual</strong> 非虚函数 同名方法只能有父类版本 子类写了也白写（兼容没有虚函数的世界）</li>
<li><strong>virtual</strong> 虚函数 父类允许子类重载 也提供了父类的实现版本（以上举例体现的情况）</li>
<li><strong>pure virtual</strong> 纯虚函数 父类并没有实现 但规定子类必须实现（面向接口编程）</li>
</ul>
<hr>
<h2 id="10">Q: public/protected/private分别能访问和控制什么？（from cpp primer）</h2>

<ul>
<li><strong>public</strong> 完全公开 谁都可以访问</li>
<li><strong>protected</strong> 派生类和友元可以访问（基类自己也不可以呢）</li>
<li><strong>private</strong> 只允许类内部访问</li>
</ul>
<p>&emsp;&emsp; &emsp;c++ primer表示<br>&emsp;&emsp; &emsp;设计类的时候<br>&emsp;&emsp; &emsp;不考虑继承的话 类的用户可以分为两种 一种是类的使用者 一种是类的实现者<br>&emsp;&emsp; &emsp;分别可以对应public 和 private成员</p>
<p>&emsp;&emsp; &emsp;考虑继承的话 新增了第三类用户 即派生类<br>&emsp;&emsp; &emsp;派生类对应protected 同时派生类也有自己的使用者和实现者 分别对应public 和 private<br>&emsp;&emsp; &emsp;派生类和友元只能通过派生类对象来访问基类的受保护成员</p>
<p>&emsp;&emsp; &emsp;假设现在有一个基类 一个派生类 一个派生类的友元<br>&emsp;&emsp; &emsp;友元形参是 <strong>派生类</strong> 的引用 <strong>可以</strong> 访问基类的protected成员（派生类及其友元可以访问基类protected成员）<br>&emsp;&emsp; &emsp;友元形参是 <strong>基类</strong> 的引用 <strong>不能</strong> 访问基类的protected成员（基类不能访问自己的protected成员）<br>&emsp;&emsp; &emsp;如果可以的话 那一个类的非友元函数仍然可以改变这个类的数据<br>&emsp;&emsp; &emsp;protected这个语法就形同虚设</p>
<p>&emsp;&emsp; &emsp;不管派生类是public还是private继承一个基类 都可以访问其protected成员<br>&emsp;&emsp; &emsp;但是继承自派生类D的派生类DD<br>&emsp;&emsp; &emsp;如果继承自的派生类D是 <strong>public</strong> 继承基类 那DD <strong>可以</strong> 访问基类的protected成员<br>&emsp;&emsp; &emsp;如果继承自的派生类D是 <strong>private</strong> 继承基类 那DD <strong>不可以</strong> 访问基类的protected成员(和其他所有基类成员)</p>
<p>&emsp;&emsp; &emsp;友元关系不能传递也不能继承 每个类负责控制各自成员的访问权限<br>&emsp;&emsp; &emsp;基类的友元不是派生类的友元</p>
<hr>
<h2 id="11">Q: string具体是什么？</h2>

<p>A: a char pointer ends with a ‘\0’<br>&emsp;&emsp; &emsp;现代ide会在你悬停 “hello” 的时候提示你它的本体是 const char[6]</p>
<hr>
<h2 id="12">Q: string s = "hello" + "world" 是合规的表达式吗？</h2>

<p>A: 不<br>&emsp;&emsp; &emsp;+是运算符<br>&emsp;&emsp; &emsp;string对+运算符重载了<br>&emsp;&emsp; &emsp;按照string运算符重载的法则 两个运算对象其一必须是string类型才能用string类型的+运算符重载<br>&emsp;&emsp; &emsp;所以s1 + “hello” 可<br>&emsp;&emsp; &emsp;”hello” + “world” 不可</p>
<hr>
<h2 id="13">Q: string s("string"); s[2] = "i"; 是合规的表达式吗？</h2>

<p>A: 不<br>&emsp;&emsp; &emsp;按索引赋值在c++里是未定义行为<br>&emsp;&emsp; &emsp;在某些编译器上是ok的 比如visual studio windows<br>&emsp;&emsp; &emsp;通过查看汇编语言中间文件得知<br>&emsp;&emsp; &emsp;编译器优化了代码<br>&emsp;&emsp; &emsp;开辟了新内存整了一个满足要求的string变量再整个移过来<br>&emsp;&emsp; &emsp;而不是在原值上更改</p>
<hr>
<h2 id="14">Q: const是什么？</h2>

<p>A: 初始化变量后不允许其赋值（但不影响它作为右值赋值给别人 记住: 赋值改变的永远是左值）<br>&emsp;&emsp; &emsp;cherno讲得比较拉跨<br>&emsp;&emsp; &emsp;a promise<br>&emsp;&emsp; &emsp;太虚幻了<br>&emsp;&emsp; &emsp;先说好赋值的定义</p>
<p>&emsp;&emsp; &emsp;初始化和赋值在C++是两种不同的操作<br>&emsp;&emsp; &emsp;<strong>初始化</strong> 创建变量时给一个初始值<br>&emsp;&emsp; &emsp;<strong>赋值</strong> 把已有对象的当前值擦除 给一个新值</p>
<p>&emsp;&emsp; &emsp;实操的时候 编译器全文替换变量名的值为初始值<br>&emsp;&emsp; &emsp;默认仅在文件内有效<br>&emsp;&emsp; &emsp;多个文件使用同一个const对象可以使用extern暴露变量</p>
<hr>
<h2 id="17">Q: 读方法不写const有什么问题吗？</h2>

<p>A: 可能会无法通过编译 ide也会红线标出问题<br>&emsp;&emsp; &emsp;比如使用者搞了一个const类实例<br>&emsp;&emsp; &emsp;调用其non const方法是调不了的<br>&emsp;&emsp; &emsp;如果这个方法确实不改变数据内容<br>&emsp;&emsp; &emsp;加上const 函数就可以成功被调用</p>
<hr>
<h2 id="15">Q: 引用const和指针const有什么不同吗？</h2>

<ul>
<li>指针</li>
</ul>
<p>&emsp;&emsp; &emsp;对指针来说 改值和指向不同的对象是两件事<br>&emsp;&emsp; &emsp;<strong>顶层const</strong> 指针是常量 （离指针 <strong>近</strong> 的const） 不指向别的对象（但可以改值）<br>&emsp;&emsp; &emsp;<strong>底层const</strong> 对象是常量 （离指针 <strong>远</strong> 的const 数据类型） 不能改值（但可以指向别的对象）<br>&emsp;&emsp; &emsp;顶层+底层const 不指向别的对象 且 不能改值<br>&emsp;&emsp; &emsp;btw constexpr 常量表达式 值不会改变且在编译过程中就能得到值的表达式<br>&emsp;&emsp; &emsp;constexpr int *p 等价于 int *const p 把p置为顶层const</p>
<ul>
<li>引用</li>
</ul>
<p>&emsp;&emsp; &emsp;引用即对象别名 没有顶层底层之分<br>&emsp;&emsp; &emsp;常量引用可以指向常量对象和非常量对象（但它们以为自己指向了常量对象 所以自觉地不去改值）<br>&emsp;&emsp; &emsp;常量对象只能有常量引用 不能有非常量引用<br>&emsp;&emsp; &emsp;以上举例应该是 常量引用常量对象的非常量方法会遇到的问题 呵</p>
<hr>
<h2 id="18">Q: mutable是什么？</h2>

<p>A: 即使一个声称是const的函数也可以通过添加mutable关键字修改可变数据成员的值</p>
<hr>
<h2 id="16">Q: 什么时候会用到mutable呢？</h2>

<ul>
<li>work with const 90%</li>
<li>work with lambda 不太常用其实</li>
</ul>
<p>&emsp;&emsp; &emsp;最常见的场景<br>&emsp;&emsp; &emsp;比如在一个并不改变数据内容的功能里<br>&emsp;&emsp; &emsp;加一个count<br>&emsp;&emsp; &emsp;方法确实是const的<br>&emsp;&emsp; &emsp;不用mutable就比较为难</p>
<p>&emsp;&emsp; &emsp;另一个场景是<br>&emsp;&emsp; &emsp;如果一个lambda是值拷贝返回一个++int<br>&emsp;&emsp; &emsp;那使用mutable可以在重复调用lambda时更新返回的int值<br>&emsp;&emsp; &emsp;否则重复调用也只能无限++一次<br>&emsp;&emsp; &emsp;由于是值拷贝 原值无论如何不受影响<br>&emsp;&emsp; &emsp;引用捕获也可以做到上述效果（但原值会改变）</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/posts/">Writing</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1"><span class="toc-number">1.</span> <span class="toc-text">为什么需要enum这样的类呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2"><span class="toc-number">2.</span> <span class="toc-text">enum是什么样的类呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3"><span class="toc-number">3.</span> <span class="toc-text">Q: 构造函数有返回值吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4"><span class="toc-number">4.</span> <span class="toc-text">Q: 构造函数可以重名吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5"><span class="toc-number">5.</span> <span class="toc-text">Q: 初始列和赋值函数的区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6"><span class="toc-number">6.</span> <span class="toc-text">Q: 析构函数是必须的吗？析构函数在何时调用呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8"><span class="toc-number">7.</span> <span class="toc-text">Q: 为什么需要虚函数机制呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9"><span class="toc-number">8.</span> <span class="toc-text">Q: 虚函数有哪几种？什么时候用哪一种呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10"><span class="toc-number">9.</span> <span class="toc-text">Q: public&#x2F;protected&#x2F;private分别能访问和控制什么？（from cpp primer）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11"><span class="toc-number">10.</span> <span class="toc-text">Q: string具体是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12"><span class="toc-number">11.</span> <span class="toc-text">Q: string s &#x3D; &quot;hello&quot; + &quot;world&quot; 是合规的表达式吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13"><span class="toc-number">12.</span> <span class="toc-text">Q: string s(&quot;string&quot;); s[2] &#x3D; &quot;i&quot;; 是合规的表达式吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14"><span class="toc-number">13.</span> <span class="toc-text">Q: const是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17"><span class="toc-number">14.</span> <span class="toc-text">Q: 读方法不写const有什么问题吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15"><span class="toc-number">15.</span> <span class="toc-text">Q: 引用const和指针const有什么不同吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18"><span class="toc-number">16.</span> <span class="toc-text">Q: mutable是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16"><span class="toc-number">17.</span> <span class="toc-text">Q: 什么时候会用到mutable呢？</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/05/08/cpp-Q-A-part3/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/05/08/cpp-Q-A-part3/&text=cpp Q&amp;A part3"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/05/08/cpp-Q-A-part3/&is_video=false&description=cpp Q&amp;A part3"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=cpp Q&amp;A part3&body=Check out this article: http://example.com/2021/05/08/cpp-Q-A-part3/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/05/08/cpp-Q-A-part3/&title=cpp Q&amp;A part3"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/05/08/cpp-Q-A-part3/&name=cpp Q&amp;A part3&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2021 em
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/posts/">Writing</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<link rel="stylesheet" href="/lib/meslo-LG/styles.css">


<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>


<script src="/js/main.js"></script>



    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', '271518478', 'auto');
        ga('send', 'pageview');
    </script>



